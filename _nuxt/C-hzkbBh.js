import{y as u,z as f,r as p,g as h,c as l,o as m,C as g,a as k,q as v}from"./ClqIKUm5.js";const y=u("masterpiece",()=>{const{$toast:t}=f(),a=p([]),e=p([]);return{masterpieces:a,recentMasterpieces:e,fetchMasterpieces:async({username:s,game:c})=>{const i=await fetch("https://api.jam.exposed/v1/masterpiece/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,game:c})});if(!i.ok){t.error("No masterpieces found.",{toastStyle:{background:"black",color:"white"}});return}const n=await i.json();if(n.masterpieces.length===0){t.error("No masterpieces found.",{toastStyle:{background:"black",color:"white"}});return}a.value=n.masterpieces},saveMasterpiece:s=>{e.value.find(c=>c.image===s)||e.value.push({image:s,timestamp:Date.now()})},clearRecentMasterpieces:()=>{e.value=[]}}},{persist:{storage:localStorage,pick:["recentMasterpieces"]}}),M={class:"bg-white rounded-lg overflow-hidden shadow-lg relative"},_=["src"],b=h({__name:"index",props:{image:{}},emits:["close"],setup(t,{emit:a}){const e=t,o=a,r=()=>{o("close")};return(d,s)=>(m(),l("div",{class:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",onClick:g(r,["self"])},[k("div",M,[e.image?(m(),l("img",{key:0,src:e.image,alt:"Masterpiece",class:"w-full h-auto cursor-pointer"},null,8,_)):v("",!0)])]))}});export{b as _,y as u};
