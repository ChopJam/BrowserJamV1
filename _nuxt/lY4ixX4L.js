import{y as i,z as u,r as n,m as l}from"./ClqIKUm5.js";const d=i("animaljam",()=>{const{$toast:a}=u(),e=n(""),t=n("");return{authtenticate:async(r,c)=>{try{const o=await $fetch("/api/authtenticate",{method:"POST",body:{screen_name:r,password:c}}),{auth_token:s}=o;if(!s){a.error("Invalid username or password");return}e.value=r,t.value=s,l("/game"),a.success("Logged in successfully")}catch(o){console.error("Error authenticating:",o),a.error("An error occurred while logging in")}},flashVars:async()=>{try{const r=await $fetch("/api/flashvars",{method:"POST",body:{screen_name:e.value,token:t.value}});if(!r){a.error("Failed to fetch flash variables");return}return r}catch(r){console.error("Error fetching flashvars:",r)}},username:e,token:t}},{persist:{storage:localStorage,pick:["username","token"]}});export{d as u};
